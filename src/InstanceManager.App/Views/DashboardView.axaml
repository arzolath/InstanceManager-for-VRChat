<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:InstanceManager.App.ViewModels"
             x:Class="InstanceManager.App.Views.DashboardView"
             x:DataType="vm:DashboardViewModel"
             x:CompileBindings="False">

  <Border Padding="20" CornerRadius="12">
    <StackPanel Spacing="12">

      <!-- Header row -->
      <StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Top">
        <Button Command="{Binding LoadMeCommand}"
                IsEnabled="{Binding CanInteract}"
                Width="28" Height="28"
                Padding="0"
                VerticalContentAlignment="Center"
                HorizontalContentAlignment="Center"
                ToolTip.Tip="Refresh">
          <TextBlock Text="âŸ³" FontSize="16" FontWeight="SemiBold"/>
        </Button>

        <TextBlock Text="Profile"
                   FontSize="18"
                   FontWeight="SemiBold"
                   VerticalAlignment="Center"/>
      </StackPanel>

      <!-- Busy indicator -->
      <ProgressBar IsIndeterminate="True"
                   IsVisible="{Binding IsBusy}" />

      <!-- Status -->
      <TextBlock Text="{Binding Status}"
                 FontStyle="Italic"
                 Opacity="0.8"/>

      <!-- Data -->
      <ScrollViewer VerticalScrollBarVisibility="Auto"
                    HorizontalScrollBarVisibility="Auto"
                    MaxHeight="420">
        <ItemsControl ItemsSource="{Binding Fields}">
          <ItemsControl.ItemTemplate>
            <DataTemplate>
              <Grid ColumnDefinitions="2*,3*" Margin="0,4">
                <TextBlock Text="{Binding Label}"
                           FontWeight="SemiBold"
                           TextWrapping="Wrap"/>
                <TextBlock Grid.Column="1"
                           Text="{Binding Value}"
                           TextWrapping="Wrap"/>
              </Grid>
            </DataTemplate>
          </ItemsControl.ItemTemplate>
        </ItemsControl>
      </ScrollViewer>

    </StackPanel>
  </Border>
</UserControl>
